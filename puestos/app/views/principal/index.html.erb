<script src="//maps.google.com/maps/api/js?key=<%= ENV['AIzaSyBAh0iPRXyxLlBEc2z93ddYtiD5f5TjdCk'] %>"></script>
<script src="//cdn.rawgit.com/mahnunchik/markerclustererplus/master/dist/markerclusterer.min.js"></script>
<script src='//cdn.rawgit.com/printercu/google-maps-utility-library-v3-read-only/master/infobox/src/infobox_packed.js' type='text/javascript'></script> <!-- only if you need custom infoboxes -->

<h1>Principal#index</h1>
<p>Find me in app/views/home/index.html.erb</p>


<div style='width: 800px;'>
  <div id="multi_markers" style='width: 800px; height: 400px;'></div>
</div>
    
    

<div class="fixed-action-btn">
	<%= link_to "add".html_safe, new_puesto_path, :class=>"btn-floating btn-large large material-icons add" %>
</div>

<p><%=link_to"Ver Puesto",puestos_path%></p>



<script type="text/javascript" >

var mapStyle = [
 	 {
            "featureType": "water",
            "stylers": [
                {
                    "color": "#021019"
                }
            ]
        },
        {
            "featureType": "landscape",
            "stylers": [
                {
                    "color": "#08304b"
                }
            ]
        },
        {
            "featureType": "poi",
            "elementType": "geometry",
            "stylers": [
                {
                    "color": "#0c4152"
                },
                {
                    "lightness": 5
                }
            ]
        },
        {
            "featureType": "road.highway",
            "elementType": "geometry.fill",
            "stylers": [
                {
                    "color": "#000000"
                }
            ]
        },
        {
            "featureType": "road.highway",
            "elementType": "geometry.stroke",
            "stylers": [
                {
                    "color": "#0b434f"
                },
                {
                    "lightness": 25
                }
            ]
        },
        {
            "featureType": "road.arterial",
            "elementType": "geometry.fill",
            "stylers": [
                {
                    "color": "#000000"
                }
            ]
        },
        {
            "featureType": "road.arterial",
            "elementType": "geometry.stroke",
            "stylers": [
                {
                    "color": "#0b3d51"
                },
                {
                    "lightness": 16
                }
            ]
        },
        {
            "featureType": "road.local",
            "elementType": "geometry",
            "stylers": [
                {
                    "color": "#000000"
                }
            ]
        },
        {
            "elementType": "labels.text.fill",
            "stylers": [
                {
                    "color": "#ffffff"
                }
            ]
        },
        {
            "elementType": "labels.text.stroke",
            "stylers": [
                {
                    "color": "#000000"
                },
                {
                    "lightness": 13
                }
            ]
        },
        {
            "featureType": "transit",
            "stylers": [
                {
                    "color": "#146474"
                }
            ]
        },
        {
            "featureType": "administrative",
            "elementType": "geometry.fill",
            "stylers": [
                {
                    "color": "#000000"
                }
            ]
        },
        {
            "featureType": "administrative",
            "elementType": "geometry.stroke",
            "stylers": [
                {
                    "color": "#144b53"
                },
                {
                    "lightness": 14
                },
                {
                    "weight": 1.4
                }
            ]
        }
];


var handler = Gmaps.build('Google');
handler.buildMap({ internal: {id: 'multi_markers'},provider: {
      mapTypeId: google.maps.MapTypeId.ROADMAP,
      styles:    mapStyle
    }}, function(){
  var markers = handler.addMarkers([
    { lat: 19.324247, lng: -99.179237, name: 'Puesto 1', infowindow: "Puesto 1"},
    { lat: 19.324257, lng: -99.179135, name: 'Puesto 2', infowindow: "Puesto 2" },
    { lat: 19.323533, lng: -99.180790, name: 'Puesto 3', infowindow: "Puesto 3", picture: {
        url: "https://addons.cdn.mozilla.net/img/uploads/addon_icons/13/13028-64.png",
        width:  100,
        height: 100
      }}
  ]);
  handler.bounds.extendWith(markers);
  handler.fitMapToBounds();
});
  
</script>